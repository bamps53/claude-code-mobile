# React Native SSHクライアントアプリ 技術選定ドキュメント

本ドキュメントは、React Nativeで開発するSSHクライアントモバイルアプリの技術スタックをまとめたものです。

## 1. プロジェクト概要

リモートサーバーへのSSH接続を行い、ターミナルの操作を行うモバイルアプリを開発します。将来的にはiOS/Androidのアプリストアでのリリースを予定しています。

## 2. 基本技術スタック

プロジェクトの土台となるフレームワークと主要ライブラリです。

| カテゴリ         | 選定技術                                     | 理由                                                                                             |
| :--------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------- |
| **フレームワーク** | `Expo (Bare Workflow)`                       | ネイティブコードのカスタマイズ性を確保しつつ、Expoのエコシステム（開発ツール、各種API）を活用できるため。 |
| **SSH接続** | `@dylankenneally/react-native-ssh-sftp`      | SSHおよびSFTP機能をReact Nativeで提供する主要なライブラリであり、本プロジェクトの核となる機能を実現するため。 |

## 3. アプリケーション構築技術

アプリのUI、状態管理、ナビゲーション、データ保存などを担当する技術スタックです。

| カテゴリ             | 選定技術                                     | 理由                                                                                                                     |
| :------------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------- |
| **UIコンポーネント** | `React Native Paper`                         | Material Design準拠で直感的なUIを迅速に構築可能。豊富なコンポーネントと強力なテーマ機能（ダークモード対応など）が魅力。       |
| **状態管理** | `Zustand`                                    | シンプルなAPIで学習コストが低く、ボイラープレートも少ない。パフォーマンスに優れ、アプリの規模が拡大してもスケールしやすい。   |
| **ナビゲーション** | `React Navigation`                           | React Nativeにおける事実上の標準。Expoとの親和性が高く、ドキュメントやコミュニティが充実しているため信頼性が高い。           |
| **永続化ストレージ** | `MMKV` (`react-native-mmkv`)                 | 接続設定など一般的なデータの保存用。従来のAsyncStorageより高速で、アプリの起動やデータ読み込みのUXを向上させる。            |
| **セキュアストレージ** | `Expo SecureStore`                           | SSHの秘密鍵やパスワードなど機密情報の保存用。OS標準のセキュア領域（Keychain/Keystore）にデータを暗号化して保存するため安全。 |
| **ターミナルUI** | `react-native-webview` + `xterm.js`          | 高機能なターミナルUIを実現する最も現実的な構成。VS Codeでも採用実績のある`xterm.js`により、本格的なターミナル体験を提供可能。 |

## 4. テストフレームワーク

アプリケーションの品質と信頼性を担保するためのテスト技術スタックです。

| カテゴリ           | 選定技術                                     | 理由                                                                                                               |
| :----------------- | :------------------------------------------- | :----------------------------------------------------------------------------------------------------------------- |
| **単体/統合テスト** | `Jest` + `React Native Testing Library`      | React Nativeのテストにおけるベストプラクティス。ユーザーの操作に基づいたテスト記述により、リファクタリングに強くメンテナンス性の高いテストを実現。 |
| **E2Eテスト** | `Detox`                                      | ユーザーの一連の操作を自動でテストする。非同期処理に強い「グレイボックステスト」により、テストの不安定さを解消し、信頼性の高いE2Eテストが可能。 |

## 5. 開発体験 (DX) 向上ツール

コード品質の維持、開発・デバッグの効率化、リリースの自動化を行うためのツール群です。

| カテゴリ                 | 選定技術                               | 理由                                                                                                                   |
| :----------------------- | :------------------------------------- | :--------------------------------------------------------------------------------------------------------------------- |
| **静的解析/フォーマット** | `ESLint` & `Prettier` (with `Husky`)   | コードの品質とスタイルを自動で統一し、バグを未然に防ぐ。コミット前の自動チェックにより、リポジトリの健全性を保つ。               |
| **パスエイリアス** | TypeScript (`tsconfig.json`)           | `import`文の相対パス問題を解決 (`@/components/*`など)。コードの可読性を向上させ、リファクタリングを容易にする。             |
| **デバッグ** | `Flipper`                              | Meta公式のデバッグプラットフォーム。UI、ネットワーク、状態などをグラフィカルに確認でき、デバッグ効率を劇的に向上させる。         |
| **環境変数管理** | `react-native-config`                  | `.env`ファイルを用いてAPIキーや環境ごとの設定値を安全に管理。コードから機密情報を分離できる。                            |
| **CI/CD** | `GitHub Actions` + `EAS Build`         | テスト、ビルド、ストア申請までの一連のプロセスを自動化。開発サイクルを高速化し、ヒューマンエラーを削減する。                 |